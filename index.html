<!DOCTYPE html>
<html>
    <head>
        <title>Rock Paper Scissors</title>
    </head>
    <body>
        <script>

            alert("Let's play a game of Rock, Paper, Scissors. You'll play 5 rounds and for each one you will know how you scored. The final result will be determined based on those 5 rounds. Enjoy!");

            function computerPlay(){
                let res = Math.floor(Math.random()*3);
                if(res == 0){
                    res = "rock";
                }else if(res == 1){
                    res = "paper";
                }else{
                    res = "scissors";
                }
                return res;
            }
            function playerPlay(){
                let res = prompt("Rock, paper or scissors?").toLowerCase();
                if(res != "rock" && res != "paper" && res != "scissors"){
                    alert("Please input a valid option!");
                    playerPlay();
                }
                return res;
            }

            let compS;
            let playS;

            function game(){
                let finalScore = 0;
                function gamePlay(){
                    compS = computerPlay();
                    playS = playerPlay();
                    let result = 0;
                    if(compS == playS){
                        alert("Great minds think alike.");
                    }else if((compS == "rock" && playS == "paper") || (compS == "paper" && playS == "scissors") || (compS == "scissors" && playS == "rock")){
                        alert("You win this one - " + playS + " beats " + compS + "!");
                        result = 1;
                    }else{
                        alert("You lose this one - " + compS + " beats " + playS + "!");
                        result = 1;
                    }
                    return result;
                }
                finalScore +=  gamePlay();
                finalScore +=  gamePlay();
                finalScore +=  gamePlay();
                finalScore +=  gamePlay();
                finalScore +=  gamePlay();

                alert("I hope you're ready for the final score!")

                if(finalScore == 0){
                    alert("It's a draw!");
                }else if(finalScore > 0){
                    alert("You win!");
                }else{
                    alert("You lose! Better luck next time.");
                }
            }

            game();

        </script>
    </body>
</html>